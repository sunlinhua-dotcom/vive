const f=(r,h={})=>{const{threshold:a=240,targetColor:c=null}=h;return new Promise((g,w)=>{const n=new Image;n.crossOrigin="Anonymous",n.src=r,n.onload=()=>{const o=document.createElement("canvas");o.width=n.width,o.height=n.height;const s=o.getContext("2d");s.drawImage(n,0,0);const i=s.getImageData(0,0,o.width,o.height),e=i.data;for(let t=0;t<e.length;t+=4){const d=e[t],l=e[t+1],m=e[t+2];d>a&&l>a&&m>a?e[t+3]=0:c==="white"?(e[t]=255,e[t+1]=255,e[t+2]=255):c==="gold"&&(e[t]=197,e[t+1]=160,e[t+2]=101)}s.putImageData(i,0,0),g(o.toDataURL())},n.onerror=o=>{console.error("Logo processing failed",o),g(r)}})};export{f as processLogo};
